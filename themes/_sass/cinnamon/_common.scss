/* #############################################################################
 * Section common with Gnome Shell.
 * It contains a few cinnamon specific styles (rare occurences).
 * ############################################################################# */

stage {
    font-family: $font_family;
    font-size: $font_size;
}

.cinnamon-link {
    color: $link_color;
    text-decoration: underline;

    StLabel {
        text-decoration: underline;
    }

    &:hover {
        color: transparentize($link_color, 0.5);
    }
}

StScrollBar {
    padding: 0;

    StBin#trough {
        background-color: transparent;
    }

    StButton {
        &#vhandle {
            @include scrollbar-handle(normal);

            &:hover {
                @include scrollbar-handle(hover);
            }
        }

        &#hhandle {
            @include scrollbar-handle(normal);

            &:hover {
                @include scrollbar-handle(hover);
            }
        }
    }
}

StScrollView {
    &.vfade {
        -st-vfade-offset: 68px;
    }

    StScrollBar {
        min-width: 9px;
        min-height: 9px;
    }
}

#Tooltip {
    padding: 3px 6px;
    border: 1px solid lighten($border_color, 17%);
    border-radius: 4px;
    background-color: $tooltip_bg_color;
    color: $tooltip_fg_color;
    box-shadow: none;
    font-size: 1em;
    font-weight: normal;
}

/* =============================================================================
 * Switches (to be used in menus)
 * ============================================================================= */
.toggle-switch {
    width: 55px;
    height: 22px;

    &-us,
    &-intl {
        border-image: url("assets/switch-off.svg") 4;

        &:checked {
            border-image: url("assets/switch-on.svg") 4;
        }
    }
}

/* =============================================================================
 * Shared button properties
 * ============================================================================= */
.modal-dialog,
.notification,
.notification-icon {
    &-button {
        @include button(normal);
        padding: 4px 8px;
        font-size: 1.1em;
        font-weight: normal;
        text-align: center;

        &:hover {
            @include button(hover);
            padding: 4px 8px;
        }

        &:focus {
            @include button(focus);
            padding: 4px 8px;

            &:hover {
                @include button(focus-hover);
                padding: 4px 8px;
            }

            &:checked,
            &:active {
                @include button(active);
                padding: 4px 8px;
            }
        }

        &:active,
        &:checked {
            @include button(active);
            padding: 4px 8px;
        }

        &:disabled {
            color: transparentize($fg_color, 0.2);
            padding: 4px 8px;
        }
    }
}

/* =============================================================================
 * PopupMenu (/usr/share/cinnamon/js/ui/popupMenu.js)
 * ============================================================================= */

// Mark for deletion on EOL. Cinnamon 3.2.x+
// Remove condition and rule/s.
@if $cinnamon_version == 30 {
    .popup-menu-boxpointer {
        -arrow-border-radius: 4px;
        -arrow-background-color: lighten($bg_color, 4%);
        -arrow-border-width: 1px;
        -arrow-border-color: transparentize(darken($border_color, 51%), 0.7);
        -arrow-base: 18px;
        -arrow-rise: 10px;
        -st-shadow: 0 -1px 2px 0 transparentize(white, 0.1);
        -boxpointer-gap: 2px;
    }

    .popup-menu {
        color: $fg_color;
        min-width: 100px;

        StEntry {
            @include entry;

            &:focus {
                @include entry($state: focus);
            }

            &:hover {
                @include entry($state: hover);
            }
        }
    }
}

.menu {
    background-color: lighten($bg_color, 4%);
    border: 1px solid transparentize(darken($border_color, 51%), 0.7);
    color: $fg_color;
    min-width: 100px;

    &.top {
        border-radius: 0 0 4px 4px;
    }

    &.bottom {
        border-radius: 4px 4px 0 0;
    }

    &.left {
        border-radius: 0 4px 4px 0;
    }

    &.right {
        border-radius: 4px 0 0 4px;
    }

    StEntry {
        @include entry;

        &:focus {
            @include entry($state: focus);
        }

        &:hover {
            @include entry($state: hover);
        }
    }
}

/* .popup-submenu-menu-item:open {
 *}
 */
.popup-sub-menu {
    background-color: darken($bg_color, 2%);
    border-top: 2px solid lighten($border_color, 13%);
    border-bottom: 2px solid lighten($border_color, 32%);
    padding: 0.5em 0;

    .popup-menu-item {
        &:ltr {
            padding-right: 1.75em;
        }

        &:rtl {
            padding-left: 1.75em;
        }
    }

    StScrollBar {
        padding: 4px;

        StBin {
            &#trough {
                background-color: transparent;
            }

            &#vhandle {
                @include scrollbar-handle(normal);

                &:hover {
                    @include scrollbar-handle(hover);
                }
            }
        }
    }
}

.popup-combo-menu {
    background-color: lighten($bg_color, 4%);
    border: 1px solid transparentize(darken($border_color, 51%), 0.7);
    color: $fg_color;
    border-radius: 4px;
}

/* The remaining popup-menu sizing is all done in ems, so that if you
 * override .popup-menu.font-size, everything else will scale with it.
 */
.popup-menu-content {
    padding: 1em 0;
}

.popup-menu-item {
    padding: 0.4em 1.75em;
    spacing: 1em;

    &:active {
        background-gradient-direction: vertical;
        background-gradient-start: $selected_bg_color;
        background-gradient-end: darken($selected_bg_color, 10%);
        box-shadow: inset 0 0 1px 1px $border_color;
        color: $selected_fg_color;
    }

    &:insensitive {
        color: lighten($fg_color, 27%);
    }
}

.popup-combobox-item {
    spacing: 1em;
}

.popup-separator-menu-item {
    -gradient-height: 1px;
    -gradient-start: darken($bg_color, 6%);
    -gradient-end: darken($bg_color, 6%);
    -margin-horizontal: 0;
    height: 1px;
}

.popup-alternating-menu-item:alternate {
    font-weight: bold;
}

.popup-slider-menu-item,
.slider {
    -slider-height: 0.3em;
    -slider-background-color: darken($bg_color, 23%);
    -slider-border-color: transparent;
    -slider-active-background-color: $selected_bg_color;
    -slider-active-border-color: transparent;
    -slider-border-width: 1px;
    -slider-handle-radius: 0.5em;
    height: 1em;
    min-width: 15em;
    border: 0 solid transparent;
    border-right-width: 1px;
    border-left-width: 5px;
}

.popup-device-menu-item {
    spacing: 0.5em;
}

.popup-inactive-menu-item {
    font-weight: bold;
    color: lighten($fg_color, 27%);
}

.popup-subtitle-menu-item {
    font-weight: bold;
    color: $fg_color;
}

.popup-menu-icon {
    icon-size: 1em;
}

.nm-menu-item-icons {
    spacing: 0.5em;
}

/* =============================================================================
 * Panel (/usr/share/cinnamon/js/ui/panel.js)
 * ============================================================================= */
#panel {
    color: $fg_color;
    font-size: 1em;
    height: 26px;
    width: 32px;
    padding: 0;
}

#panelLeft,
#panelCenter {
    spacing: 4px;
}

#panelLeft:dnd {
    background-color: transparentize(red, 0.9);
}

#panelCenter:dnd {
    background-color: transparentize(green, 0.9);
}

#panelRight:dnd {
    background-color: transparentize(blue, 0.9);
}

#panelLeft {
    &:ltr {
        padding-right: 4px;
    }

    &:rtl {
        padding-left: 4px;
    }
}

#panelRight {
    &:ltr {
        padding-left: 0;
        spacing: 0;
    }

    &:rtl {
        padding-right: 0;
        spacing: 0;
    }
}

#panelLeft.vertical {
    &:ltr {
        padding-right: 0;
    }

    &:rtl {
        padding-left: 0;
    }
}

.panel {
    &-top {
        @include panel-background(top);

        /* I replaced the window-list-item class from using the border-image property
         * to use the background-gradient-* properties. The images had a 1 pixel
         * transparent border so, to imitate the same effect, I added a 1 pixel
         * transparent border to all three panel boxes from all panels.
         */
        #panelLeft,
        #panelRight,
        #panelCenter {
            border-bottom: 1px solid transparent;
        }

        &:highlight {
            @include panel-background(top, $highlighted: true);
        }
    }

    &-bottom {
        @include panel-background(bottom);

        #panelLeft,
        #panelRight,
        #panelCenter {
            border-top: 1px solid transparent;
        }

        &:highlight {
            @include panel-background(bottom, $highlighted: true);
        }
    }

    &-left {
        @include panel-background(left);

        #panelLeft,
        #panelRight,
        #panelCenter {
            border-right: 1px solid transparent;
            spacing: 0;
        }

        &:highlight {
            @include panel-background(left, $highlighted: true);
        }
    }

    &-right {
        @include panel-background(right);

        #panelLeft,
        #panelRight,
        #panelCenter {
            border-left: 1px solid transparent;
            spacing: 0;
        }

        &:highlight {
            @include panel-background(right, $highlighted: true);
        }
    }

    &-dummy {
        border: 1px solid $selected_bg_color;
        background-color: transparentize($selected_bg_color, 0.4);

        &:entered {
            background-color: transparentize($selected_bg_color, 0.1);
        }
    }
}

.system-status-icon {
    padding-left: 0;
    padding-right: 0;
    spacing: 0;
    margin: 0;
    icon-size: 1.14em;

    // Mark for deletion on EOL. Cinnamon 3.4.x+
    // Remove condition only.
    @if $cinnamon_version >= 34 {
        /* #####################################################################
         * Added in Cinnamon 3.4
         *
         * The new warning/error colors used on .system-status-icon are
         * currently used by the power applet to warn the user when their
         * battery is low.
         * ##################################################################### */
        &.warning {
            color: $warning_color;
        }

        &.error {
            color: $error_color;
        }
    }
}

/* #appMenu {
 * }
 */

/* .popup-menu-item-dot {
 * }
 */

/* =============================================================================
 * Overview (/usr/share/cinnamon/js/ui/overview.js)
 * ============================================================================= */
#overview {
    spacing: 12px;
}

.workspace-overview-background-shade {
    background-color: transparent;
}

// Mark for deletion on EOL. Cinnamon 3.4.x+
// Remove condition only.
@if $cinnamon_version >= 40 {
    .overview-empty-placeholder {
        color: $white;
        font-size: 2em;
    }
}

/* =============================================================================
 * Overview (/usr/share/cinnamon/js/ui/expoThumbnail.js)
 * ============================================================================= */
.workspace-thumbnails {
    spacing: 26px;
    padding-left: 0.9em;
    padding-right: 1em;
}

.workspace-close-button {
    background-image: url("assets/close.svg");
    height: 35px;
    width: 35px;
    -cinnamon-close-overlap: 25px;
    transition-duration: 150;

    &:hover {
        background-image: url("assets/close-hover.svg");
        transition-duration: 150;
    }
}

.expo-workspace-thumbnail-frame {
    border: 11px transparent;
    border-image: url("assets/workspace-shadow.png") 14;

    &#active {
        border: 11px transparent;
        border-image: url("assets/workspace-shadow.png") 14;
    }
}

.expo-workspaces-name-entry {
    @include entry($for_expo: true);

    &#selected {
        color: $selected_fg_color;
        transition-duration: 150;

        &:focus {
            color: $selected_fg_color;
            transition-duration: 150;
        }
    }

    &:focus {
        color: $selected_fg_color;
        transition-duration: 150;
    }
}

/* =============================================================================
 * Overview (/usr/share/cinnamon/js/ui/expo.js)
 * ============================================================================= */
.workspace-add-button {
    background-image: url("assets/plus.png");
    height: 200px;
    width: 35px;
    transition-duration: 100;

    &:hover {
        background-image: url("assets/plus-hover.png");
        transition-duration: 100;
    }
}

.window-close-area {
    background-image: url("assets/trash.svg");
    background-color: $bg_color;
    border: 1px solid darken($border_color, 27%);
    border-radius: 4px 4px 0 0;
    height: 150px;
    width: 226px;
}

.expo-background {
    background: url("assets/noise-texture.png");
    background-repeat: repeat;
}

/* =============================================================================
 * Overview (/usr/share/cinnamon/js/ui/workspace.js)
 * ============================================================================= */
.window-caption {
    @include background(base-frame, null, 4px);
    font-weight: bold;
    spacing: 25px;
    font-size: 1em;
    padding: 6px 8px;
    spacing: 8px;
    -cinnamon-caption-spacing: 10px;

    // Mark for deletion on EOL. Cinnamon 4.0.x+
    // Remove condition and rule.
    @if $cinnamon_version < 40 {
        &#selected {
            @include background(app-selected, null, 4px);
            font-weight: bold;
            spacing: 25px;
        }
    }

    // Mark for deletion on EOL. Cinnamon 4.0.x+
    // Remove condition only.
    @if $cinnamon_version >= 40 {
        &:focus {
            @include background(app-selected, null, 4px);
        }
    }
}

.window-close {
    background-image: url("assets/close.svg");
    height: 35px;
    width: 35px;
    -cinnamon-close-overlap: 16px;
    transition-duration: 150;

    &:hover {
        background-image: url("assets/close-hover.svg");
        transition-duration: 150;
    }

    // Mark for deletion on EOL. Cinnamon 4.0.x+
    // Remove condition and rule.
    @if $cinnamon_version < 40 {
        &:rtl {
            -st-background-image-shadow: 2px 2px 6px transparentize(black, 0.5);
        }
    }
}

// Mark for deletion on EOL. Cinnamon 4.0.x+
// Remove condition only.
@if $cinnamon_version >= 40 {
    .window-border {
        border: 3px $selected_bg_color;
        border-radius: 4px;
        background-color: rgba(255, 255, 255, 0.05); /* Cover rounded corners and some bad adjustment gaps */
        box-shadow: 0 0 0 1px $selected_bg_color inset;
    }
}

/* =============================================================================
 * Desklets (/usr/share/cinnamon/js/ui/desklet.js)
 * ============================================================================= */
.desklet {
    color: $fg_color;

    &:highlight {
        background-color: $selected_bg_color;
    }

    &-with-borders:highlight,
    &-with-borders-and-header:highlight {
        background-color: $selected_bg_color;
    }

    &-with-borders {
        @include background(base-frame, null, 4px);
        font-weight: bold;
        padding: 8px;
    }

    &-with-borders-and-header {
        background-color: $bg_color;
        border: 1px solid $border_color;
        border-radius: 0 0 4px 4px;
        color: $fg_color;
        padding: 8px;
    }

    &-header {
        background-color: $bg_color;
        border: 1px solid $border_color;
        border-bottom-width: 0;
        border-radius: 4px 4px 0 0;
        font-size: 1em;
        font-weight: bold;
        text-shadow: lighten($border_color, 26%) 0 0 0;
        color: $fg_color;
        padding: 8px;
    }

    &-drag-placeholder {
        border: 0 solid lighten($border_color, 13%);
        border-radius: 0;
        background: none;
    }
}

/* Class used by the default desklet called "Digital photo frame" (photoframe@cinnamon.org) */
.photoframe-box {
    @include background(base-frame, null, 4px);
    padding: 10px;
}

/* Class used by the default desklet called "Clock desklet" (clock@cinnamon.org) */
.clock-desklet-label {
    color: $fg_color;
}

/* =============================================================================
 * Looking Glass (/usr/share/cinnamon/js/ui/lookingGlass.js)
 * ============================================================================= */
#LookingGlassDialog {
    @include background(base-frame, null, 4px);
    transition-duration: 300;
    padding: 8px;
}

/* =============================================================================
 * Calendar applet (/usr/share/cinnamon/applets/calendar@cinnamon.org/calendar.js)
 * ============================================================================= */
.calendar {
    padding: 0.4em 1.75em 0.8em;
    spacing-rows: 0;
    spacing-columns: 0;

    &-month-label {
        padding-bottom: 3px;
        padding-top: 3px;
        font-weight: bold;
        color: $fg_color;
    }

    &-change-month-back,
    &-change-month-forward:rtl {
        height: 20px;
        width: 20px;
        transition-duration: 200;
        border: 1px transparent;
        background-image: url("assets/calendar-arrow-left.svg");
    }

    &-change-month-back:hover {
        transition-duration: 150;
        background-image: url("assets/calendar-arrow-left-hover.svg");
    }

    &-change-month-forward,
    &-change-month-back:rtl {
        height: 20px;
        width: 20px;
        transition-duration: 200;
        border: 1px transparent;
        background-image: url("assets/calendar-arrow-right.svg");
    }

    &-change-month-forward:hover {
        transition-duration: 150;
        background-image: url("assets/calendar-arrow-right-hover.svg");
    }

    &-day-base {
        font-size: 1em;
        text-align: center;
        width: 2.4em;
        height: 2.4em;

        &:active {
            background: $selected_bg_color;
            box-shadow: inset 0 1px 2px 0 transparentize(black, 0.9);
            color: $selected_fg_color;
        }
    }

    &-day-heading {
        font-size: 1em;
        color: darken($fg_color, 8%);
        padding-top: 2em;
    }

    &-week-number {
        color: transparentize(black, 0.5);
        font-size: 1em;
    }

    &-day {
        border: 1px transparentize(black, 0.8);
        color: transparentize(black, 0.3);
        border-top-width: 0;
        border-left-width: 0;
        padding-left: 1px;
        padding-top: 1px;
        background-color: transparentize(white, 0.9);
    }

    &-day-top {
        border-top-width: 1px;
    }

    &-day-left {
        border-left-width: 1px;
    }

    &-nonwork-day {
        background-color: transparentize(lighten(black, 50%), 0.9);
    }

    &-today {
        color: $selected_bg_color;
        font-weight: bold;
    }

    &-other-month-day {
        color: transparentize(lighten(black, 20%), 0.7);
        box-shadow: inset 0 2px 3px 0 transparentize(black, 0.9);
        background-color: transparentize(lighten(black, 20%), 0.9);
    }
}

/* Calendar applet (/usr/share/cinnamon/applets/calendar@cinnamon.org/applet.js) */
.datemenu-date-label {
    padding: 0.5em 0 1em;
    font-weight: bold;
    text-align: center;
    color: $fg_color;
}

/* =============================================================================
 * Notifications    (/usr/share/cinnamon/js/ui/messageTray.js)
 * ============================================================================= */
#notification {
    @include background(base-frame, null, 4px);
    font-size: 0.95em;
    padding: 8px;
    spacing-rows: 10px;
    spacing-columns: 10px;
    margin-from-right-edge-of-screen: 20px;
    width: 34em;

    &.multi-line-notification {
        padding-bottom: 8px;
        color: $fg_color;
    }

    StEntry {
        @include entry;

        &:focus {
            @include entry($state: focus);
        }

        &:hover {
            @include entry($state: hover);
        }
    }

    .cinnamon-link {
        color: black;
        text-decoration: underline;
    }

    &-scrollview {
        max-height: 100em;

        > {
            .top-shadow,
            .bottom-shadow {
                height: 10em;
            }
        }

        &:ltr > StScrollBar {
            padding-left: 6px;
        }

        &:rtl > StScrollBar {
            padding-right: 6px;
        }
    }

    &-body {
        spacing: 5px;
    }

    &-actions {
        spacing: 10px;
    }

    /* For the links inside notifications.
     * These URLs are already underlined with Pango markup.
     */
    .url-highlighter {
        link-color: $link_color;
    }
}

/* We use row-span = 2 for the image cell, which prevents its height preferences to be
 * taken into account during allocation, so its height ends up being limited by the height
 * of the content in the other rows. To avoid showing a stretched image, we set the minimum
 * height of the table to be ICON_SIZE + IMAGE_SIZE + spacing-rows = 24 + 125 + 10 = 159
 */
.notification-with-image {
    min-height: 159px;
    color: $fg_color;
}

/* Override padding for this class so the button is squared. */
.notification-icon-button {
    padding: 4px;

    &:hover {
        padding: 4px;
    }

    &:focus {
        padding: 4px;

        &:hover {
            padding: 4px;
        }

        &:checked,
        &:active {
            padding: 4px;
        }
    }

    &:active,
    &:checked {
        padding: 4px;
    }

    &:disabled {
        padding: 4px;
    }

    > StIcon {
        icon-size: 1.1em;
    }
}

/* =============================================================================
 * Alt Tab    (/usr/share/cinnamon/js/ui/appSwitcher/classicSwitcher.js)
 * ============================================================================= */
#altTabPopup {
    padding: 8px;
    spacing: 16px;
}

.switcher-list {
    @include background(base-frame, null, 4px);
    padding: 20px;
    font-size: 1em;
    font-weight: bold;

    .item-box {
        padding: 8px;
        border: 1px solid transparent;
        border-radius: 0;

        &:outlined {
            padding: 6px;
            border: 2px solid transparent;
        }

        &:selected {
            @include background(app-selected, null, 4px);
        }
    }

    .thumbnail-box {
        padding: 2px;
        spacing: 4px;
    }

    .thumbnail {
        width: 256px;
    }

    .separator {
        width: 1px;
        background: transparentize(white, 0.77);
    }
}

.switcher-list-item-container {
    spacing: 8px;
}

.thumbnail-scroll-gradient-left {
    background-color: transparentize(lighten(black, 20%), 0.5);
    border-radius: 24px;
    border-radius-topright: 0;
    border-radius-bottomright: 0;
    width: 60px;
}

.thumbnail-scroll-gradient-right {
    background-color: transparentize(lighten(black, 20%), 0.5);
    border-radius: 24px;
    border-radius-topleft: 0;
    border-radius-bottomleft: 0;
    width: 60px;
}

.switcher-arrow {
    border-color: transparent;
    color: $fg_color;

    &:highlighted {
        border-color: transparent;
        color: white;
    }
}

.switcher-preview-backdrop {
    background-color: transparentize(lighten(black, 10%), 0.35);
}

/* =============================================================================
 * Hot corner ripple effect (/usr/share/cinnamon/js/ui/hotCorner.js).
 * ============================================================================= */
.ripple-box,
.ripple-box:rtl {
    width: 100px;
    height: 100px;
    border-radius: 50px; /* 50% is not recognized. */
    background-gradient-direction: radial; /* start=center, end=edges */
    background-gradient-start: transparentize($selected_bg_color, 0.7);
    background-gradient-end: transparentize($selected_bg_color, 0.8);
}

/* =============================================================================
 * Modal dialogs    (/usr/share/cinnamon/js/ui/modalDialog.js)
 * ============================================================================= */
.modal-dialog {
    @include background(base-frame, null, 4px);
    font-size: 1.1em;
    padding: 30px;

    &-button-box {
        spacing: 110px;
        padding-top: 20px;
    }
}

/* =============================================================================
 * Run dialog (/usr/share/cinnamon/js/ui/runDialog.js)
 * ============================================================================= */
.run-dialog {
    padding: 10px 12px 0;

    &-label {
        font-size: 1em;
        font-weight: bold;
    }

    &-error-label {
        color: $error_color;
        font-weight: bold;
    }

    &-error-box {
        padding-top: 15px;
        spacing: 5px;
    }

    &-entry {
        @include entry;

        &:focus {
            @include entry($state: focus);
        }

        &:hover {
            @include entry($state: hover);
        }
    }

    &-completion-box {
        padding-left: 15px;
        font-size: 0.9em;
    }
}

/* =============================================================================
 * Lightbox (/usr/share/cinnamon/js/ui/lightbox.js)
 * ============================================================================= */
.lightbox {
    background-color: transparentize(black, 0.6);
}

/* =============================================================================
 * Flashspot (/usr/share/cinnamon/js/ui/flashspot.js)
 * ============================================================================= */
.flashspot {
    background-color: white;
}

/* =============================================================================
 * CinnamonMountOperation Dialogs (/usr/share/cinnamon/js/ui/cinnamonMountOperation.js)
 * ============================================================================= */
.cinnamon-mount-operation-icon {
    icon-size: 48px;
}

.mount-password-reask {
    color: $error_color;
}

.show-processes-dialog,
.mount-question-dialog {
    spacing: 24px;
}

.show-processes-dialog-subject,
.mount-question-dialog-subject {
    font-size: 1.3em;
    font-weight: bold;
    color: $fg_color;
    padding-top: 10px;
    padding-left: 17px;
    padding-bottom: 6px;
}

.show-processes-dialog-subject:rtl,
.mount-question-dialog-subject:rtl {
    padding-left: 0;
    padding-right: 17px;
}

.show-processes-dialog-description,
.mount-question-dialog-description {
    font-size: 1.1em;
    color: $fg_color;
    padding-left: 17px;
    width: 28em;
}

.show-processes-dialog-description:rtl,
.mount-question-dialog-description:rtl {
    padding-right: 17px;
}

.show-processes-dialog-app-list {
    font-size: 1.1em;
    max-height: 200px;
    padding-top: 24px;
    padding-left: 49px;
    padding-right: 32px;

    &:rtl {
        padding-right: 49px;
        padding-left: 32px;
    }
}

.show-processes-dialog-app-list-item {
    color: $fg_color;

    &:hover {
        color: lighten($fg_color, 20%);
    }

    &:ltr {
        padding-right: 1em;
    }

    &:rtl {
        padding-left: 1em;
    }
}

.show-processes-dialog-app-list-item-icon {
    &:ltr {
        padding-right: 17px;
    }

    &:rtl {
        padding-left: 17px;
    }
}

.show-processes-dialog-app-list-item-name {
    font-size: 1.1em;
}

/* =============================================================================
 * Magnifier (/usr/share/cinnamon/js/ui/magnifier.js)
 * ============================================================================= */
.magnifier-zoom-region {
    border: 2px solid maroon;

    &.full-screen {
        border-width: 0;
    }
}

/* =============================================================================
 * On screen keyboard (/usr/share/cinnamon/js/ui/keyboard.js)
 * ============================================================================= */
#keyboard {
    background-color: $bg_color;
    box-shadow: inset 0 1px darken($border_color, 48%);
}

.keyboard-layout {
    spacing: 10px;
    padding: 10px;
}

.keyboard-row {
    spacing: 15px;
}

.keyboard-key {
    @include button(normal);
    min-height: 30px;
    min-width: 30px;
    font-size: 1.5em;
    font-weight: bold;

    &:grayed {
        @include button(normal);
    }

    &:checked,
    &:hover {
        @include button(hover);
    }

    &:active {
        @include button(active);
    }
}

.keyboard-subkeys {
    color: $fg_color;
    padding: 5px;
    -arrow-border-radius: 4px;
    -arrow-background-color: lighten($bg_color, 4%);
    -arrow-border-width: 1px;
    -arrow-border-color: transparentize(darken($border_color, 51%), 0.7);
    -arrow-base: 18px;
    -arrow-rise: 10px;
    -st-shadow: 0 -1px 2px 0 transparentize(white, 0.1);
    -boxpointer-gap: 2px;
}

/* =============================================================================
 * Menu applet (/usr/share/cinnamon/applets/menu@cinnamon.org/applet.js)
 * ============================================================================= */
.menu-favorites-box {
    background-color: lighten($bg_color, 4%);
    border: 1px solid silver;
    border-radius: 4px;
    padding: 0.5em;
}

.menu-favorites-button {
    padding: 0.9em 1em;
    border-radius: 4px;

    &:hover {
        @include background(app-selected, null, 4px);
    }
}

.menu-categories-box {
    padding: 10px 30px;
}

.menu-applications-inner-box,
.menu-applications-outer-box {
    padding: 10px 10px 0;
}

.menu-application-button {
    padding: 7px;
    max-width: 10px;

    &:highlighted {
        /* This style is used in menu application buttons for applications which were newly installed. */
        font-weight: bold;
    }
}

.menu-application-button-selected {
    @include background(app-selected, null, 4px);
    padding: 7px;

    &:highlighted {
        font-weight: bold; /* This style is used in menu application buttons for applications which were newly installed. */
    }
}

.menu-application-button-label {
    &:ltr {
        padding-left: 5px;
    }

    &:rtl {
        padding-right: 5px;
    }
}

.menu-category-button {
    padding: 7px;
}

.menu-category-button-greyed {
    padding: 7px;
    color: lighten($fg_color, 25%);
}

.menu-category-button-selected {
    @include background(app-selected, null, 4px);
    padding: 7px;
}

.menu-category-button-label {
    &:ltr {
        padding-left: 5px;
    }

    &:rtl {
        padding-right: 5px;
    }
}

/* Name and description of the currently hovered item in the menu.
 * This appears on the bottom right hand corner of the menu.
 */
.menu-selected-app-box {
    padding-right: 30px;
    padding-left: 28px;
    text-align: right;
}

.menu-selected-app-title {
    font-weight: bold;
}

.menu-selected-app-description {
    max-width: 150px;
}

.menu-search-box {
    padding-left: 30px;
}

#menu-search-entry {
    @include entry;

    &:focus {
        @include entry($state: focus);
    }

    &:hover {
        @include entry($state: hover);
    }
}

.menu-search-entry-icon {
    icon-size: 1em;
    color: $fg_color;
}

/* .menu-context-menu    {
 *
 * }
 */

/* .menu-background    {
 *
 * }
 */

/* =============================================================================
 * Window list applet (/usr/share/cinnamon/applets/window-list@cinnamon.org/applet.js)
 * ============================================================================= */
.window-list {
    &-box {
        spacing: 3px;
        padding-left: 0;

        &.vertical {
            padding-left: 0;
            padding-right: 0;
            padding-top: 10px;
            padding-bottom: 10px;
        }
    }

    &-item-label {
        width: 15em;
        min-width: 5px;
    }

    &-item-box {
        @include background(normal, bottom);
        font-weight: bold;
        padding: 1px 4px;

        &:active,
        &:checked,
        &:focus,
        &:checked:hover,
        &:focus:hover,
        &:active:hover {
            @include background(pressed, bottom);
            font-weight: bold;
        }

        &:hover {
            @include background(hover, bottom);
        }

        /* #####################################################################
         * Class "progress" (window list items progress overlay):Added in Cinnamon 3.4
         * ##################################################################### */

        // Mark for deletion on EOL. Cinnamon 3.6.x+
        // Remove condition only.
        @if $cinnamon_version >= 34 {
            .progress {
                border-radius: 3px 3px 0 0;
                background-gradient-direction: vertical;
                background-gradient-start: transparentize($selected_bg_color, 0.5);
                background-gradient-end: transparentize($selected_bg_color, 0.1);
            }
        }

        .panel-top & {
            @include background(normal, top);

            &:active,
            &:checked,
            &:focus,
            &:checked:hover,
            &:focus:hover,
            &:active:hover {
                @include background(pressed, top);
            }

            &:hover {
                @include background(hover, top);
            }

            // Mark for deletion on EOL. Cinnamon 3.6.x+
            // Remove condition only.
            @if $cinnamon_version >= 34 {
                .progress {
                    border-radius: 0 0 3px 3px;
                }
            }
        }

        .panel-left & {
            @include background(normal, left);
            padding-left: 0;
            padding-right: 0;

            &:active,
            &:checked,
            &:focus,
            &:checked:hover,
            &:focus:hover,
            &:active:hover {
                @include background(pressed, left);
            }

            &:hover {
                @include background(hover, left);
            }

            // Mark for deletion on EOL. Cinnamon 3.6.x+
            // Remove condition only.
            @if $cinnamon_version >= 34 {
                .progress {
                    border-radius: 0 3px 3px 0;
                }
            }
        }

        .panel-right & {
            @include background(normal, right);
            padding-left: 0;
            padding-right: 0;

            &:active,
            &:checked,
            &:focus,
            &:checked:hover,
            &:focus:hover,
            &:active:hover {
                @include background(pressed, right);
            }

            &:hover {
                @include background(hover, right);
            }

            // Mark for deletion on EOL. Cinnamon 3.6.x+
            // Remove condition only.
            @if $cinnamon_version >= 34 {
                .progress {
                    border-radius: 3px 0 0 3px;
                }
            }
        }
    }

    &-item-demands-attention {
        @include background(attention, bottom);

        .panel-top & {
            @include background(attention, top);
        }

        .panel-left & {
            @include background(attention, left);
        }

        .panel-right & {
            @include background(attention, right);
        }
    }

    // Mark for deletion on EOL. Cinnamon 3.6.x+
    // Remove condition only.
    @if $cinnamon_version >= 34 {
        /* #########################################################################
         * Class "window-list-preview":Added in Cinnamon 3.6
         * ######################################################################### */
        &-preview {
            @include background(base-frame, null, 4px);

            /* The class itself doesn't respond to the set paddings. */

            // padding: 6px 12px 12px;
            font-size: 1em;
            font-weight: bold;
            text-shadow: white 0 0 2px;

            & StBin {
                padding: 5px;
            }
        }
    }
}

// Mark for deletion on EOL. Cinnamon 4.0.x+
// Remove condition only.
@if $cinnamon_version >= 40 {
    /* =============================================================================
     * Grouped window list applet (/usr/share/cinnamon/applets/grouped-window-list@cinnamon.org
     * ============================================================================= */

    .grouped-window-list {
        &-item-box {
            @include background(normal, bottom);
            font-weight: bold;
            padding: 1px 0 4px 4px;
            border-image: none;

            &:hover {
                @include background(hover, bottom);
            }

            &:focus:hover,
            &:focus:active:hover,
            &:focus {
                @include background(pressed, bottom);
                font-weight: bold;
            }

            .progress {
                border-radius: 3px 3px 0 0;
                background-gradient-direction: vertical;
                background-gradient-start: transparentize($selected_bg_color, 0.5);
                background-gradient-end: transparentize($selected_bg_color, 0.1);
            }

            .panel-top & {
                @include background(normal, top);

                &:hover {
                    @include background(hover, top);
                }

                &:focus:hover,
                &:focus:active:hover,
                &:focus {
                    @include background(pressed, top);
                }

                .progress {
                    border-radius: 0 0 3px 3px;
                }
            }

            .panel-left & {
                @include background(normal, left);
                padding-left: 0;
                padding-right: 0;

                &:hover {
                    @include background(hover, left);
                }

                &:focus:hover,
                &:focus:active:hover,
                &:focus {
                    @include background(pressed, left);
                }

                .progress {
                    border-radius: 0 3px 3px 0;
                }
            }

            .panel-right & {
                @include background(normal, right);
                padding-left: 0;
                padding-right: 0;

                &:hover {
                    @include background(hover, right);
                }

                &:focus:hover,
                &:focus:active:hover,
                &:focus {
                    @include background(pressed, right);
                }

                .progress {
                    border-radius: 3px 0 0 3px;
                }
            }
        }

        &-item-demands-attention {
            @include background(attention, bottom);

            .panel-top & {
                @include background(attention, top);
            }

            .panel-left & {
                @include background(attention, left);
            }

            .panel-right & {
                @include background(attention, right);
            }
        }

        &-thumbnail-menu {
            @include background(base-frame, null, 4px);
            padding: 20px;
            font-size: 1em;
            font-weight: bold;

            .item-box {
                padding: 10px;
                border: 1px solid transparent;
                border-radius: 0;
                spacing: 4px;

                &:outlined {
                    padding: 6px;
                    border: 2px solid rgba(85, 85, 85, 0);
                }

                &:selected {
                    @include background(app-selected, null, 4px);
                }
            }

            .thumbnail {
                width: 256px;
            }

            .separator {
                width: 1px;
                background: transparentize($white, 0.77);
            }
        }

        &-thumbnail-label {
            padding-left: 4px;
        }

        &-number-label {
            z-index: 99;
            color: $fg_color;
        }

        &-badge {
            border-radius: 256px;
            background-color: $white;
        }

        &-button-label {
            padding-left: 4px;
        }

        &-thumbnail-alert {
            background: transparentize(red, 0.9);
        }
    }
}

/* =============================================================================
 * Sound applet (/usr/share/cinnamon/applets/sound@cinnamon.org/applet.js)
 * ============================================================================= */
.sound-player {
    StButton {
        width: 22px;
        height: 22px;
        padding: 5px;
        color: $fg_color;

        &:small {
            border: 1px solid transparent;
            border-radius: 3px;
            width: 16px;
            height: 16px;

            &:hover {
                @include button(hover);
            }

            &:active {
                @include button(active);
            }
        }

        StIcon {
            icon-size: 22px;
        }

        &:small StIcon {
            icon-size: 16px;
        }

        &:hover,
        &:active {
            color: transparentize($fg_color, 0.6);
        }
    }

    .slider {
        height: 0.5em;
        -slider-height: 0.5em;
        -slider-background-color: darken($bg_color, 23%);
        -slider-border-color: transparent;
        -slider-active-background-color: $selected_bg_color;
        -slider-active-border-color: transparent;
        -slider-border-width: 0;
        -slider-handle-radius: 0;
        border-right-width: 0;
        border-left-width: 0;
    }

    StBoxLayout {
        spacing: 0.5em;
    }

    > StBoxLayout {
        padding: 0 16px 8px;

        &:first-child {
            border: 1px solid lighten($border_color, 9%);
            border-top: 0;
            border-right: 0;
            border-left: 0;
        }
    }

    &-overlay {
        border-top: 1px solid lighten($border_color, 9%);
        width: 300px;
        height: 70px;
        padding: 16px;
        spacing: 0.5em;
        color: $fg_color;
        background: lighten($bg_color, 4%);

        StBoxLayout {
            padding-top: 2px;
        }
    }

    &-generic-coverart {
        background: transparentize(black, 0.8);
    }
}

// Mark for deletion on EOL. Cinnamon 4.2.x+
// Remove condition only.
@if $cinnamon_version >= 42 {
    /* =============================================================================
     * Spacer applet (/usr/share/cinnamon/applets/spacer@cinnamon.org)
     * ============================================================================= */

    .spacer-box {
        &:highlight {
            @include background(highlight, bottom);
        }

        .panel-top & {
            &:highlight {
                @include background(highlight, top);
            }
        }

        .panel-left & {
            &:highlight {
                @include background(highlight, left);
            }
        }

        .panel-right & {
            &:highlight {
                @include background(highlight, right);
            }
        }

        // &.vertical {}

        // &.edit-mode {}
    }
}

/* =============================================================================
 * Workspace Switcher applet (/usr/share/cinnamon/applets/workspace-switcher@cinnamon.org/applet.js)
 * ============================================================================= */
.workspace-button {
    width: 20px;
    height: 6px;
    color: $fg_color;
    border: 0;
    border-color: lighten($border_color, 11%);
    padding: 3px;
    padding-right: 1px;
    font-weight: bold;
    padding-top: 5px;

    &.vertical {
        padding: 0;
    }

    &:hover {
        @include background(hover, bottom);
        border-color: lighten($border_color, 11%);
    }

    &:outlined {
        @include background(pressed, bottom);
    }

    .panel-top & {
        &:hover {
            @include background(hover, top);
        }

        &:outlined {
            @include background(pressed, top);
        }
    }

    .panel-left & {
        &:hover {
            @include background(hover, left);
        }

        &:outlined {
            @include background(pressed, left);
        }
    }

    .panel-right & {
        &:hover {
            @include background(hover, right);
        }

        &:outlined {
            @include background(pressed, right);
        }
    }
}

/* Controls the style when using the "Visual representation" option. */
.workspace-graph {
    padding: 3px 4px;
    spacing: 4px;

    .workspace {
        border: 1px solid darken($border_color, 60%);
        background-gradient-direction: vertical;
        background-gradient-start: darken($bg_color, 62%);
        background-gradient-end: darken($bg_color, 52%);

        &:active {
            border: 1px solid lighten($border_color, 13%);
            background-gradient-direction: vertical;
            background-gradient-start: darken($bg_color, 68%);
            background-gradient-end: darken($bg_color, 52%);
        }

        .windows {
            -active-window-background: darken($bg_color, 33%);
            -active-window-border: transparentize(black, 0.3);
            -inactive-window-background: darken($bg_color, 33%);
            -inactive-window-border: transparentize(black, 0.3);
        }

        &:active .windows {
            -active-window-background: $selected_bg_color;
            -active-window-border: transparentize(black, 0.1);
            -inactive-window-background: darken($bg_color, 22%);
            -inactive-window-border: transparentize(black, 0.3);
        }
    }
}

/* =============================================================================
 * Panel Launchers applet (/usr/share/cinnamon/applets/panel-launchers@cinnamon.org/applet.js)
 * ============================================================================= */

// Mark for deletion on EOL. Cinnamon 3.2.x+
// Remove condition and rule.
@if $cinnamon_version == 30 {
    #panel-launchers-box {
        padding-left: 0;
    }

    .panel-launcher {
        margin: 1px;
        padding: 2px;

        &:hover {
            @include background(hover, null, 3px);
        }
    }
}

.panel-launchers {
    spacing: 0;

    .launcher {
        border: 1px solid transparent;
        padding: 0 2px;
        border-radius: 3px;
        border-top: 0;

        &:hover {
            @include background(hover, null, 3px);
        }

        .icon-box {
            padding: 0;
        }

        .panel-top & {
            border-bottom: 0;
        }

        .panel-left & {
            border-right: 0;
        }

        .panel-right & {
            border-left: 0;
        }
    }

    &.vertical .launcher {
        padding: 2px 0;
    }
}

/* =============================================================================
 * Applets (/usr/share/cinnamon/js/ui/applet.js)
 * ============================================================================= */
.applet {
    &-box {
        font-weight: bold;
        color: $fg_color;
        padding: 0 4px;
        text-align: center;

        &.vertical {
            font-weight: bold;
            color: $fg_color;
            padding: 4px 0;
        }

        &:highlight,
        &:checked,
        &:hover {
            @include background(hover, bottom);
        }

        &:highlight {
            @include background(highlight, bottom);
        }

        /* &:checked > .applet-icon,
         * &:hover > .applet-icon {
         * }
         */

        /* &:active {
         * }
         */

        // Mark for deletion on EOL. Cinnamon 3.4.x+
        // Remove condition only.
        @if $cinnamon_version >= 34 {
            /* #########################################################################
             * Added in Cinnamon 3.4
             *
             * The Cinnamon St library now reacts to margin, but that also has the
             * effect of overriding the margin that was put in programmatically for
             * TextIcon applets between the icon and the label.
             * This restores some suitable spacing between icons and their labels.
             * ######################################################################### */
            .panel-top &,
            .panel-bottom & {
                spacing: 3px;
            }
        }

        .panel-top & {
            &:highlight,
            &:checked,
            &:hover {
                @include background(hover, top);
            }

            &:highlight {
                @include background(highlight, top);
            }
        }

        .panel-left & {
            &:highlight,
            &:checked,
            &:hover {
                @include background(hover, left);
            }

            &:highlight {
                @include background(highlight, left);
            }
        }

        .panel-right & {
            &:highlight,
            &:checked,
            &:hover {
                @include background(hover, right);
            }

            &:highlight {
                @include background(highlight, right);
            }
        }
    }

    &-label {
        font-weight: bold;
        color: $fg_color;

        &:checked,
        &:hover {
            font-weight: bold;
        }
    }

    &-icon {
        icon-size: 22px;
        // DUMMY

        /* &:hover,
         * &:checked    {}
         */
    }

    /* =========================================================================
     * Separator applet (/usr/share/cinnamon/applets/separator@cinnamon.org/applet.js)
     * ========================================================================= */
    &-separator {
        padding: 4px;
    }

    &-separator-line {
        width: 2px;
        background: darken($bg_color, 14%);
    }

    &-separator-line-vertical {
        border: 0 solid darken($bg_color, 14%);
        border-bottom-width: 2px;
    }
}

/* =============================================================================
 * Workspace OSD (/usr/share/cinnamon/js/ui/windowManager.js)
 * ============================================================================= */
.workspace-osd {
    @include background(base-frame, null, 4px);
    padding: 9px 15px;
    font-weight: bold;
    font-size: 2.8em;
}

/* =============================================================================
 * Notification applet (/usr/share/cinnamon/applets/notifications@cinnamon.org/applet.js)
 * ============================================================================= */
.notification-applet-padding {
    padding: 0.5em 1em;
}

/* =============================================================================
 * Check Boxes
 * ============================================================================= */
.check-box {
    CinnamonGenericContainer {
        spacing: 0.2em;
        min-height: 18px;
        padding-top: 2px;
    }

    StBin,
    &:focus StBin {
        width: 16px;
        height: 16px;
        background-image: url("assets/checkbox-unchecked.svg");
    }

    &:checked StBin,
    &:focus:checked StBin {
        background-image: url("assets/checkbox-checked.svg");
    }

    StLabel {
        font-weight: normal;
    }
}

.radiobutton {
    CinnamonGenericContainer {
        spacing: 0.2em;
        height: 18px;
        padding-top: 2px;
    }

    StBin,
    &:focus StBin {
        width: 16px;
        height: 16px;
        background-image: url("assets/radio-unselected.svg");
    }

    &:checked StBin,
    &:focus:checked StBin {
        background-image: url("assets/radio-selected.svg");
    }

    StLabel {
        padding-top: 4px;
        font-size: 0.9em;
        box-shadow: none;
    }
}

/* =============================================================================
 * User applet (/usr/share/cinnamon/applets/user@cinnamon.org/applet.js)
 * ============================================================================= */
.user-icon {
    background-color: lighten($bg_color, 4%);
    border: 1px solid lighten($border_color, 8%);
    border-radius: 4px;
    padding: 0.2em;
}

.user-label {
    color: $fg_color;
    font-size: 1.3em;
    margin: 6px;
}

/* =============================================================================
 * About Dialog (/usr/share/cinnamon/js/ui/modalDialog.js)
 * ============================================================================= */
.about {
    &-content {
        width: 550px;
        height: 250px;
        spacing: 8px;
        padding-bottom: 16px;
    }

    &-title {
        font-size: 1.5em;
        font-weight: bold;
    }

    &-uuid {
        font-size: 0.8em;
    }

    &-icon {
        padding-right: 20px;
    }

    &-scrollBox {
        @include background(base-frame, null, 4px);
    }

    &-scrollBox-innerBox {
        padding: 1.2em;
        spacing: 1.2em;
    }

    &-description {
        padding-top: 4px;
        // DUMMY

        /* Let the description text wrap at least for two
         * lines until it "touches" the about-scrollBox.
         */
        padding-bottom: 20px;
    }

    &-version {
        padding-left: 7px;
    }
}

/* =============================================================================
 * OSD Popups
 * ============================================================================= */
.info-osd {
    @include background(base-frame, null, 4px);
    font-size: 2em;
    padding: 12px;
    text-align: center;
}

.osd-window {
    @include background(base-frame, null, 4px);
    padding: 20px;
    spacing: 1em;

    // Mark for deletion on EOL. Cinnamon 3.4.x+
    // Remove condition only.
    @if $cinnamon_version >= 34 {
        /*level-bar class added in Cinnamon 3.4.x.*/
        .level-bar {
            height: 0.7em;
            border-radius: 0.3em;
            background-color: $selected_bg_color;
        }
    }

    .level {
        height: 0.7em;
        border-radius: 0.3em;
        background-color: darken($bg_color, 23%);
    }
}

/* =============================================================================
 * Snap/Tile Chrome (/usr/share/cinnamon/js/ui/windowManager.js)
 * ============================================================================= */
.tile-preview {
    background-color: transparentize($selected_bg_color, 0.6);
    border: 1px solid transparentize($selected_bg_color, 0.2);

    &.snap {
        background-color: transparentize($selected_bg_color, 0.2);
    }
}

.tile-hud {
    background-color: transparentize($selected_bg_color, 0.6);
    border: 1px solid transparentize($selected_bg_color, 0.2);

    &.snap {
        background-color: transparentize($selected_bg_color, 0.2);
    }

    &:top {
        border-top-width: 0;
        border-radius: 0 0 8px 8px;
    }

    &:bottom {
        border-bottom-width: 0;
        border-radius: 8px 8px 0 0;
    }

    &:left {
        border-left-width: 0;
        border-radius: 0 8px 8px 0;
    }

    &:right {
        border-right-width: 0;
        border-radius: 8px 0 0 8px;
    }

    &:top-left {
        border-top-width: 0;
        border-left-width: 0;
        border-radius: 0 0 8px;
    }

    &:top-right {
        border-top-width: 0;
        border-right-width: 0;
        border-radius: 0 0 0 8px;
    }

    &:bottom-left {
        border-bottom-width: 0;
        border-left-width: 0;
        border-radius: 0 8px 0 0;
    }

    &:bottom-right {
        border-bottom-width: 0;
        border-right-width: 0;
        border-radius: 8px 0 0;
    }
}

// Mark for deletion on EOL. Cinnamon 3.4.x+
// Remove condition only.
@if $cinnamon_version >= 34 {
    /* #########################################################################
     * Systray Applet - Added in Cinnamon 3.4
     *
     * .systray is for theming to be applied to the systray as a whole.
     * .applet-box is used for indicators (not tray icons) within the systray.
     * Tray icons are not themed.
     * ######################################################################### */
    .systray {
        spacing: 5px;
    }
}
